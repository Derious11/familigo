diff a/src/components/Leaderboard/index.tsx b/src/components/Leaderboard/index.tsx	(rejected hunks)
@@ -1,28 +1,29 @@
 import React, { useContext, useMemo } from 'react';
 import { AppContext } from '../../App';
 import { TrophyIcon, FireIcon, ClockIcon, ArrowUpIcon } from '../Icons';
+import AvatarImage from '../ui/AvatarImage';
 
 const Leaderboard: React.FC = () => {
     const { familyCircle, currentUser } = useContext(AppContext);
 
     const leaderboardData = useMemo(() => {
         if (!familyCircle) return [];
 
         const today = new Date();
         const last7Days = Array.from({ length: 7 }, (_, i) => {
             const d = new Date(today);
             d.setDate(d.getDate() - i);
             return d.toISOString().split('T')[0];
         });
 
         return familyCircle.members.map(member => {
             let weeklyScore = 0;
             if (member.activityMap) {
                 last7Days.forEach(date => {
                     weeklyScore += member.activityMap![date] || 0;
                 });
             }
             if (weeklyScore === 0) weeklyScore = member.streak;
 
             return { ...member, weeklyScore };
         }).sort((a, b) => b.weeklyScore - a.weeklyScore);
@@ -39,120 +40,140 @@ const Leaderboard: React.FC = () => {
         <div className="space-y-8 animate-fade-in pb-20">
 
             {/* --- HEADER --- */}
             {/* Reset margin to normal (mb-6) so it doesn't float too high */}
             <div className="text-center mb-6 relative z-20">
                 <div className="flex items-center justify-center gap-2 mb-1">
                     <h2 className="text-2xl font-black text-gray-900 dark:text-white tracking-tight">Weekly Legends</h2>
                 </div>
                 <div className="inline-flex items-center gap-1.5 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full shadow-sm border border-gray-200 dark:border-gray-600">
                     <ClockIcon className="w-3 h-3 text-gray-500 dark:text-gray-400" />
                     <p className="text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wide">
                         {daysLeft} Days Left
                     </p>
                 </div>
             </div>
 
             {/* --- TOP 3 PODIUM --- */}
             {/* Added 'mt-12' (Margin Top) to drop the whole podium down. */}
             {/* This gives the bouncing trophy physical space so it doesn't overlap the header. */}
             <div className="flex justify-center items-end gap-2 sm:gap-4 px-2 h-64 relative z-10 mt-12">
 
                 {/* 2nd Place */}
                 {top3[1] && (
                     <div className="flex flex-col items-center w-1/3">
                         <div className="relative mb-2">
-                            <img src={top3[1].avatarUrl} alt={top3[1].name} className="w-14 h-14 sm:w-16 sm:h-16 rounded-full border-4 border-gray-300 shadow-lg object-cover" />
+                            <AvatarImage
+                                userId={top3[1].id}
+                                cacheKey={top3[1].avatarUpdatedAt?.getTime?.()}
+                                alt={top3[1].name}
+                                className="w-14 h-14 sm:w-16 sm:h-16 rounded-full border-4 border-gray-300 shadow-lg object-cover"
+                            />
                             <div className="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-gray-200 text-gray-700 text-[10px] font-bold px-2 py-0.5 rounded-full border border-gray-300 shadow-sm">2nd</div>
                         </div>
                         <p className="font-bold text-xs sm:text-sm text-gray-700 dark:text-gray-300 text-center truncate w-full px-1">{top3[1].name}</p>
                         <p className="text-xs text-gray-400 font-bold mb-1">{top3[1].weeklyScore}</p>
                         <div className="w-full h-24 bg-gradient-to-t from-gray-300 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-t-lg shadow-inner flex items-end justify-center pb-2 opacity-90">
                             <span className="text-2xl font-black text-gray-400/50">2</span>
                         </div>
                     </div>
                 )}
 
                 {/* 1st Place */}
                 {top3[0] && (
                     <div className="flex flex-col items-center w-1/3 z-10">
                         <div className="relative mb-2">
-                            <img src={top3[0].avatarUrl} alt={top3[0].name} className="w-20 h-20 sm:w-24 sm:h-24 rounded-full border-4 border-yellow-400 shadow-xl object-cover ring-4 ring-yellow-400/30" />
+                            <AvatarImage
+                                userId={top3[0].id}
+                                cacheKey={top3[0].avatarUpdatedAt?.getTime?.()}
+                                alt={top3[0].name}
+                                className="w-20 h-20 sm:w-24 sm:h-24 rounded-full border-4 border-yellow-400 shadow-xl object-cover ring-4 ring-yellow-400/30"
+                            />
                             <div className="absolute -bottom-3 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-yellow-900 text-xs font-bold px-3 py-0.5 rounded-full border border-yellow-200 shadow-sm">1st</div>
                         </div>
                         <p className="font-black text-sm sm:text-base text-gray-900 dark:text-white text-center truncate w-full px-1">{top3[0].name}</p>
                         <p className="text-xs text-yellow-600 dark:text-yellow-400 font-bold mb-1">{top3[0].weeklyScore} pts</p>
                         <div className="w-full h-32 bg-gradient-to-t from-yellow-400 to-yellow-200 dark:from-yellow-600 dark:to-yellow-500 rounded-t-lg shadow-lg flex items-end justify-center pb-3 relative overflow-hidden">
                             <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12 opacity-50"></div>
                             <FireIcon className="w-8 h-8 text-yellow-700/50 dark:text-yellow-900/50" />
                         </div>
                     </div>
                 )}
 
                 {/* 3rd Place */}
                 {top3[2] && (
                     <div className="flex flex-col items-center w-1/3">
                         <div className="relative mb-2">
-                            <img src={top3[2].avatarUrl} alt={top3[2].name} className="w-14 h-14 sm:w-16 sm:h-16 rounded-full border-4 border-orange-300 shadow-lg object-cover" />
+                            <AvatarImage
+                                userId={top3[2].id}
+                                cacheKey={top3[2].avatarUpdatedAt?.getTime?.()}
+                                alt={top3[2].name}
+                                className="w-14 h-14 sm:w-16 sm:h-16 rounded-full border-4 border-orange-300 shadow-lg object-cover"
+                            />
                             <div className="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-orange-200 text-orange-800 text-[10px] font-bold px-2 py-0.5 rounded-full border border-orange-300 shadow-sm">3rd</div>
                         </div>
                         <p className="font-bold text-xs sm:text-sm text-gray-700 dark:text-gray-300 text-center truncate w-full px-1">{top3[2].name}</p>
                         <p className="text-xs text-gray-400 font-bold mb-1">{top3[2].weeklyScore}</p>
                         <div className="w-full h-16 bg-gradient-to-t from-orange-300 to-orange-100 dark:from-orange-800 dark:to-orange-700 rounded-t-lg shadow-inner flex items-end justify-center pb-2 opacity-90">
                             <span className="text-2xl font-black text-orange-900/20 dark:text-orange-900/40">3</span>
                         </div>
                     </div>
                 )}
             </div>
 
             {/* --- THE REST --- */}
             <div className="bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mx-2 relative z-0">
                 {rest.map((member, index) => {
                     const isMe = currentUser?.id === member.id;
                     const personAboveScore = index === 0 ? (top3[2]?.weeklyScore || 0) : rest[index - 1].weeklyScore;
                     const pointsToOvertake = personAboveScore - member.weeklyScore;
                     const showChase = pointsToOvertake > 0 && pointsToOvertake < 50;
 
                     return (
                         <div
                             key={member.id}
                             className={`flex items-center justify-between p-4 border-b border-gray-50 dark:border-gray-700/50 last:border-0 transition-colors ${isMe ? 'bg-blue-50/50 dark:bg-blue-900/10' : 'hover:bg-gray-50 dark:hover:bg-gray-700/30'
                                 }`}
                         >
                             <div className="flex items-center gap-4">
                                 <span className={`text-sm font-bold w-6 text-center ${isMe ? 'text-brand-blue' : 'text-gray-400'}`}>#{index + 4}</span>
                                 <div className="relative">
-                                    <img src={member.avatarUrl} alt={member.name} className={`w-10 h-10 rounded-full object-cover ${isMe ? 'ring-2 ring-brand-blue ring-offset-2 dark:ring-offset-gray-800' : 'bg-gray-200'}`} />
+                                    <AvatarImage
+                                        userId={member.id}
+                                        cacheKey={member.avatarUpdatedAt?.getTime?.()}
+                                        alt={member.name}
+                                        className={`w-10 h-10 rounded-full object-cover ${isMe ? 'ring-2 ring-brand-blue ring-offset-2 dark:ring-offset-gray-800' : 'bg-gray-200'}`}
+                                    />
                                     {isMe && <div className="absolute -bottom-1 -right-1 bg-brand-blue text-white text-[8px] px-1.5 rounded-full border border-white">YOU</div>}
                                 </div>
                                 <div>
                                     <span className={`font-semibold text-sm ${isMe ? 'text-brand-blue dark:text-blue-300' : 'text-gray-700 dark:text-gray-200'}`}>
                                         {member.name}
                                     </span>
                                     {showChase && (
                                         <div className="flex items-center gap-1 text-[10px] text-orange-500 font-medium animate-pulse">
                                             <ArrowUpIcon className="w-3 h-3" />
                                             <span>{pointsToOvertake} pts to overtake</span>
                                         </div>
                                     )}
                                 </div>
                             </div>
 
                             <div className="text-right">
                                 <span className={`font-bold block ${isMe ? 'text-brand-blue dark:text-blue-300' : 'text-gray-900 dark:text-white'}`}>{member.weeklyScore}</span>
                                 <span className="text-[10px] text-gray-400 uppercase font-semibold">Points</span>
                             </div>
                         </div>
                     );
                 })}
 
                 {rest.length === 0 && top3.length > 0 && (
                     <div className="p-6 text-center text-sm text-gray-400 bg-gray-50/50 dark:bg-gray-800">
                         The arena is quiet... invite more family!
                     </div>
                 )}
             </div>
         </div>
     );
 };
 
-export default Leaderboard;
\ No newline at end of file
+export default Leaderboard;
